<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="ClearType" content="true"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Valgrind on Mac OS X 10.10 Yosemite | Mario Ranftl</title><meta name="description" content="You want to hack with C and Valgrind on OS X 10.10 Yosemite? Well, you’ll definitely run into problems getting it for your very platform, as there is no official stable release out there yet. Consequentially these is no receipt for Homebrew (which is great anyways, get it!), hence you need to manually build that nifty tool  from the latest trunk SVN repository. -- Note by Mario Ranftl"><meta name="author" content="Mario Ranftl"><meta name="keywords" content="c, valgrind, yosemite, installation, c, programming, note, mario ranftl, ranf.tl, majodev, ranftl, mario, professional, austria, fehring, steiermark, programming, developer, full stack, information manager, information management, "><meta name="robots" content="all"><meta name="copyright" content="Copyright 2015 Mario Ranftl (ranf.tl | @majodev)"><meta http-equiv="last-modified" content="2014-12-11@18:04:57 +01:00"><meta name="city" content="Fehring"><meta name="zipcode" content="8010"><meta name="country" content="Austria"><meta name="state" content="Austria"><meta name="geo.position" content="46.93597035754931;16.009843460266097"><meta name="geo.placename" content="Austria, Fehring"><meta name="geo.region" content="AT"><meta name="ICBM" content="46.93597035754931, 16.009843460266097"><meta name="msapplication-square70x70logo" content="/assets/img/favicons/windows-tile-70x70.png"><meta name="msapplication-square150x150logo" content="/assets/img/favicons/windows-tile-150x150.png"><meta name="msapplication-square310x310logo" content="/assets/img/favicons/windows-tile-310x310.png"><meta name="msapplication-TileImage" content="/assets/img/favicons/windows-tile-144x144.png"><meta name="msapplication-TileColor" content=""><link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/img/favicons/apple-touch-icon-152x152-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="120x120" href="/assets/img/favicons/apple-touch-icon-120x120-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="76x76" href="/assets/img/favicons/apple-touch-icon-76x76-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="60x60" href="/assets/img/favicons/apple-touch-icon-60x60-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/img/favicons/apple-touch-icon-144x144-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/img/favicons/apple-touch-icon-114x114-precomposed.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/img/favicons/apple-touch-icon-72x72-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" sizes="228x228" href="/assets/img/favicons/coast-icon-228x228.png"><meta name="mobile-web-app-capable" value="yes"><link rel="icon" sizes="196x196" href="/assets/img/favicons/homescreen-196x196.png"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><link rel="icon" type="image/png" sizes="64x64" href="/assets/img/favicons/favicon.png"><link rel="stylesheet" type="text/css" href="/assets/css/styles.min.css" data-cssinjector="static"><script src="/assets/js/scripts_head.min.js"></script></head><body><div id="ajax-container"><div id="wrapper"><header class="block-header navbar navbar-default nonSelectable" role="navigation"><div class="container-fluid"><div class="navbar-header"><div class="navbar-toggle-affix" data-spy="affix"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-content"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><span><a class="block-navBrand navbar-brand" href="/"><div class="block-navBrandImage"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" data-icon="brain" class="iconic iconic-brain iconic-size-sm" viewbox="0 0 16 16"><g class="iconic-metadata"><title>Brain</title>ƒ</g><g class="iconic-container" data-width="15" data-height="16"><path d="M6.5 8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h.5v-6c0-.552-.448-1-1-1-2.628 0-4.387 1.731-5.289 4.051.169.08.289.249.289.449 0 .276-.224.5-.5.5-.04 0-.076.014-.113.023-.257.949-.387 1.963-.387 2.977 0 .986.062 1.972.213 2.898.082.059.178.101.287.101.276 0 .5.224.5.5s-.224.5-.5.5c-.017 0-.033-.004-.05-.005.611 2.296 1.938 4.005 4.55 4.005 1.105 0 2-.895 2-2v-6h-.5zm-1-7c.276 0 .5.224.5.5s-.224.5-.5.5c-.827 0-1.5.673-1.5 1.5 0 .276-.224.5-.5.5s-.5-.224-.5-.5c0-1.378 1.122-2.5 2.5-2.5zm-3 7c-.276 0-.5-.224-.5-.5 0-1.378 1.122-2.5 2.5-2.5.276 0 .5-.224.5-.5s.224-.5.5-.5.5.224.5.5c0 .827-.673 1.5-1.5 1.5s-1.5.673-1.5 1.5c0 .276-.224.5-.5.5zm2 7c-.827 0-1.5-.673-1.5-1.5 0-.276.224-.5.5-.5s.5.224.5.5.224.5.5.5.5-.224.5-.5.224-.5.5-.5.5.224.5.5c0 .827-.673 1.5-1.5 1.5zm0-3c-.276 0-.5-.224-.5-.5s.224-.5.5-.5.5-.224.5-.5-.224-.5-.5-.5-.5-.224-.5-.5.224-.5.5-.5c.827 0 1.5.673 1.5 1.5s-.673 1.5-1.5 1.5z" class="iconic-brain-hemisphere iconic-brain-hemisphere-left iconic-property-fill"></path></g><g class="iconic-container" data-width="15" data-height="16"><path d="M14.5 12c-.276 0-.5-.224-.5-.5s.224-.5.5-.5c.109 0 .204-.042.287-.102.152-.926.213-1.912.213-2.899 0-1.026-.134-2.052-.397-3.01-.035.002-.068.01-.103.01-.276 0-.5-.224-.5-.5 0-.2.119-.369.289-.45-.901-2.319-2.66-4.05-5.289-4.05-.552 0-1 .448-1 1v6h.5c.276 0 .5.224.5.5s-.224.5-.5.5h-.5v6c0 1.105.895 2 2 2 2.611 0 3.939-1.709 4.55-4.005-.017 0-.033.005-.05.005zm-5-11c1.378 0 2.5 1.122 2.5 2.5 0 .276-.224.5-.5.5s-.5-.224-.5-.5c0-.827-.673-1.5-1.5-1.5-.276 0-.5-.224-.5-.5s.224-.5.5-.5zm1 8c.276 0 .5.224.5.5s-.224.5-.5.5-.5.224-.5.5.224.5.5.5.5.224.5.5-.224.5-.5.5c-.827 0-1.5-.673-1.5-1.5s.673-1.5 1.5-1.5zm0 6c-.827 0-1.5-.673-1.5-1.5 0-.276.224-.5.5-.5s.5.224.5.5.224.5.5.5.5-.224.5-.5.224-.5.5-.5.5.224.5.5c0 .827-.673 1.5-1.5 1.5zm2-7c-.276 0-.5-.224-.5-.5 0-.827-.673-1.5-1.5-1.5s-1.5-.673-1.5-1.5c0-.276.224-.5.5-.5s.5.224.5.5.224.5.5.5c1.378 0 2.5 1.122 2.5 2.5 0 .276-.224.5-.5.5z" class="iconic-brain-hemisphere iconic-brain-hemisphere-right iconic-property-fill"></path></g></svg></div><span class="block-navBrandText">&nbsp;&nbsp;ranf.tl</span></a> <span class="block-navBrandMobile"><span class="block-breadcrumbSeparator">&gt;</span> <span class="block-navBrandMobileInner"><a href="/notes/">Notes</a></span></span></span></div><div class="collapse navbar-collapse" id="navbar-content"><ul class="nav navbar-nav"><li class="block-navPage"><a href="/">About</a></li><li class="block-navPageActive active"><a href="/notes/">Notes</a></li></ul><ul class="nav navbar-nav navbar-right"><li class="block-navSubPage"><a href="/media/">Media</a></li><li class="block-navSubPage"><a href="/cv/">CV</a></li></ul></div></div></header><div class="template-note uiHandlerFade"><main><article><div class="container-fluid"><div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-0 col-lg-7 col-lg-offset-1"><header class="template-note-header-wrapper"><div class="template-note-header"><ul class="pager block-noteNavigator"><li class="previous text-right"><a href="/2014/10/01/extracting-libs-from-a-node-js-project/" title="Extracting Libs from a Node.js Project"><i class="fa fa-angle-double-left"></i>&nbsp;&nbsp;older note</a></li><li class="next"><a href="/2014/12/23/self-hosting-google-web-fonts/" title="Self-Hosting Google Web Fonts">newer note&nbsp;&nbsp;<i class="fa fa-angle-double-right"></i></a></li></ul><header class="block-noteTitle"><h1>Valgrind on Mac OS X 10.10 Yosemite</h1></header><div class="block-noteSubTitle"><h5><span class="block-noteDate text-muted"><time datetime="Fri Nov 28 2014 01:00:00 GMT+0100 (CET)">28 Nov 2014</time></span> · <span class="block-noteAuthor text-muted">by Mario Ranftl</span> · <span class="block-tagList text-nowrap"><a class="block-tagItem" href="/tags/#c"><i class="fa fa-tag fa-sm"></i>&nbsp;c</a> <a class="block-tagItem" href="/tags/#programming"><i class="fa fa-tag fa-sm"></i>&nbsp;programming</a></span> · <span class="block-noteCommentCount text-nowrap" data-disqus-url="http://ranf.tl/2014/11/28/valgrind-on-mac-os-x-10-10-yosemite/"><a href="http://ranf.tl/2014/11/28/valgrind-on-mac-os-x-10-10-yosemite/#disqus_thread">comments</a></span> · <span class="block-noteReadingInfo text-nowrap">242 words, 1 min</span></h5><hr class="small"></div></div></header><div class="template-note-contents"><div class="contents"><p>You want to hack with C and <a href="http://valgrind.org/">Valgrind</a> on OS X 10.10 Yosemite? Well, you&#x2019;ll definitely run into problems getting it for your very platform, as there is no official stable release <a href="http://sourceforge.net/p/valgrind/mailman/message/33047840/">out there yet</a>. Consequentially these is no receipt for <a href="http://brew.sh/">Homebrew</a> (which is great anyways, get it!), hence you need to manually build that nifty tool from the latest <code>trunk</code> SVN repository.</p><p>Here&#x2019;s how to do that (needs installation of Xcode&#x2019;s <a href="http://railsapps.github.io/xcode-command-line-tools.html">Command Line Tools</a>):</p><pre><code class="lang-bash"><span class="hljs-comment"># Check out their repo...</span>
$ svn co svn://svn.valgrind.org/valgrind/trunk valgrind-trunk
<span class="hljs-comment"># and hop into it.</span>
$ <span class="hljs-built_in">cd</span> valgrind-trunk

<span class="hljs-comment"># You need to have autoconf and automake installed to build Valgrind</span>
<span class="hljs-comment"># This example uses Homebrew to install these dependencies</span>
<span class="hljs-comment"># (MacPorts should also work)</span>
<span class="hljs-comment"># (Permission error? add sudo!)</span>
$ brew install automake
$ brew install autoconf

<span class="hljs-comment"># run autogen.sh in valgrind-trunk</span>
$ ./autogen.sh

<span class="hljs-comment"># Tricky, there are some hard wired paths in the Valgrind sources.</span>
<span class="hljs-comment"># You need to symlink the mach folder in your XCode SDK to /usr/include/mach</span>
<span class="hljs-comment"># Be sure to use the proper Xcode SDK &quot;MacOSX10.10.sdk&quot; in the path!</span>
$ ln -sv /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.<span class="hljs-number">10</span>.sdk/usr/include/mach /usr/include/mach

<span class="hljs-comment"># Run configure + set install paths in valgrind-trunk</span>
$ ./configure --prefix=/usr/<span class="hljs-built_in">local</span>

<span class="hljs-comment"># Run Make and make install (permission error? add sudo!) in valgrind-trunk</span>
$ make
$ make install

<span class="hljs-comment"># Check it works</span>
$ valgrind --version
valgrind-<span class="hljs-number">3.11</span>.<span class="hljs-number">0</span>.SVN
</code></pre><p>Still on OS X 10.9 Mavericks? Then you might want to check out Calvin&#x2019;s great <a href="http://calvinx.com/2014/05/04/valgrind-on-mac-os-x-10-9-mavericks/">How-To</a>.<br>Background: Currently relearning <a href="http://c.learncodethehardway.org/book/">C the hard way</a>.</p></div></div></div><div class="note-sidebar col-sm-10 col-sm-offset-1 col-md-4 col-md-offset-0 col-lg-3 col-lg-offset-0"><div class="block-noteAboutAuthor"><h2 class="linedSeparator"><i class="fa fa-user"></i>&nbsp;&nbsp;About the author</h2><div class="block-noteAuthorMiniPicture"><a href="/#hello"></a></div><p class="small"><a href="/#hello">Mario Ranftl</a> is a dedi&shy;cated Aus&shy;trian IT pro&shy;fessional with con&shy;sider&shy;able ex&shy;peri&shy;ence in a range of soft&shy;ware develop&shy;ment en&shy;viron&shy;ments and a special&shy;ization in web tech&shy;nologies. He con&shy;trib&shy;utes to Open Source pro&shy;jects on <a href="https://github.com/majodev">GitHub</a> and loves to cre&shy;atively solve chal&shy;lenging prob&shy;lems. You can easily reach him on <a href="https://twitter.com/majodev">Twitter</a> or via <a data-email="6d6172696f4072616e662e746c" data-emaildecrypted="false" href="mailto:encrypted.email@javascript.on">Email</a>. Inter&shy;ested in hiring him? Down&shy;load his <a href="/cv/">CV</a>.</p></div><div class="block-noteShare"><h2 class="linedSeparator"><i class="fa fa-share-alt"></i>&nbsp;&nbsp;Share and subscribe</h2><ul class="list-inline text-center"><li><a class="btn btn-primary" role="button" target="_blank" href="http://twitter.com/intent/tweet?url=http%3A%2F%2Franf.tl%2F2014%2F11%2F28%2Fvalgrind-on-mac-os-x-10-10-yosemite%2F&text=Valgrind%20on%20Mac%20OS%20X%2010.10%20Yosemite&via=majodev"><i class="fa fa-twitter fa-lg"></i>&nbsp;tweet</a></li><li><a class="btn btn-primary" role="button" href="mailto:?subject=Valgrind%20on%20Mac%20OS%20X%2010.10%20Yosemite&body=http%3A%2F%2Franf.tl%2F2014%2F11%2F28%2Fvalgrind-on-mac-os-x-10-10-yosemite%2F"><i class="fa fa-at fa-lg"></i>&nbsp;forward</a></li><li><a class="btn btn-primary" role="button" href="/feed.xml"><i class="fa fa-rss fa-lg"></i>&nbsp;feed</a></li></ul></div></div><footer class="template-note-footer col-sm-10 col-sm-offset-1 col-md-12 col-md-offset-0 col-lg-10 col-lg-offset-1"><div class="block-noteComments"><h2 class="linedSeparator"><i class="fa fa-comments"></i>&nbsp;&nbsp;Comments</h2><div id="disqus_thread" class="block-disqus" data-pageid="valgrind-yosemite" data-title="Valgrind on Mac OS X 10.10 Yosemite" data-url="http://ranf.tl/2014/11/28/valgrind-on-mac-os-x-10-10-yosemite/" data-lang="en"></div><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments</a>!<br /></noscript><a href="http://disqus.com" class="dsq-brlink">Powered by <span class="logo-disqus">Disqus</span></a></div></footer></div></article></main></div></div><div id="footer_push"></div><footer class="block-footer"><div class="container-fluid text-center"><p><i class="fa fa-copyright"></i> 2015 Mario Ranftl | <a href="http://twitter.com/majodev">@majodev</a></p><p class="footer-trivialpages"><a href="/legal/">Legal</a> · <a href="/tags/">Tags</a></p><p class="fontsize-mini no-margin">Content under <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/at/">Creative Commons (CC BY-NC-SA 2.0 AT)</a></p><p class="fontsize-mini">Code under <a href="http://majodev.mit-license.org/">MIT License</a></p><p class="fontsize-mini"></p><p class="no-margin fontsize-mini"><a href="https://github.com/majodev/majodev.github.io/commit/b4b2635">commit/b4b2635</a></p></div></footer></div><script src="/assets/js/scripts.min.js"></script><div id="scripts_src"></div></body></html>